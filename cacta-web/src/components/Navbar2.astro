---
import down from "../icons/down.svg";
import info from "../icons/info.svg";
import baseline from "../icons/baseline.svg";
import logo from "/public/logo.png";
import { Image } from "astro:assets";
---

<body>
	<!--=============== HEADER ===============-->
	<header class="header">
		<nav class="nav container">
			<div class="nav__data">
				<Image src={logo} class="w-10" alt="logo cacta" />
				<a href="#" class="nav__logo"> Cacta Eco</a>
				<div class="nav__toggle" id="nav-toggle">
					<Image
						src={baseline}
						alt="baseline button"
						class="nav__toggle-menu"
					/>
					<Image
						src={baseline}
						alt="baseline button"
						class="nav__toggle-close"
					/>
				</div>
			</div>
			<!--=============== NAV MENU ===============-->
			<div class="nav__menu" id="nav-menu">
				<ul class="nav__list">
					<li>
						<a href="#" class="nav__link">Home</a>
					</li>
					<!--=============== DROPDOWN 1 ===============-->
					<li class="dropdown__item">
						<div class="nav__link dropdown__button">
							Discover

							<Image src={down} class="dropdown__arrow" alt="" />
						</div>

						<div class="dropdown__container">
							<div class="dropdown__content">
								<div class="dropdown__group">
									<div class="dropdown__icon">
										<Image
											src={info}
											class="dropdown__arrow"
											alt=""
										/>
									</div>

									<span class="dropdown__title"
										>Most viewed courses</span
									>
									<ul class="dropdown__list">
										<li>
											<a href="#" class="dropdown__link"
												>HTML for beginners</a
											>
										</li>

										<li>
											<a href="#" class="dropdown__link"
												>Advances CSS</a
											>
										</li>

										<li>
											<a href="#" class="dropdown__link"
												>JavaScript OPP</a
											>
										</li>
									</ul>
								</div>

								<div class="dropdown__group">
									<div class="dropdown__icon">
										<Image
											src={info}
											class="dropdown__arrow"
											alt=""
										/>
									</div>

									<span class="dropdown__title"
										>Popular courses</span
									>
									<ul class="dropdown__list">
										<li>
											<a href="#" class="dropdown__link"
												>Development with Flutter</a
											>
										</li>

										<li>
											<a href="#" class="dropdown__link"
												>Web development with React</a
											>
										</li>

										<li>
											<a href="#" class="dropdown__link"
												>Backend development expert</a
											>
										</li>
									</ul>
								</div>

								<div class="dropdown__group">
									<div class="dropdown__icon">
										<Image
											src={info}
											class="dropdown__arrow"
											alt=""
										/>
									</div>

									<span class="dropdown__title">Careers</span>
									<ul class="dropdown__list">
										<li>
											<a href="#" class="dropdown__link"
												>Web development</a
											>
										</li>

										<li>
											<a href="#" class="dropdown__link"
												>Applications development</a
											>
										</li>

										<li>
											<a href="#" class="dropdown__link"
												>UX/UI design</a
											>
										</li>

										<li>
											<a href="#" class="dropdown__link">
												Informatic security</a
											>
										</li>
									</ul>
								</div>

								<div class="dropdown__group">
									<div class="dropdown__icon">
										<Image
											src={info}
											class="dropdown__arrow"
											alt=""
										/>
									</div>

									<span class="dropdown__title"
										>Certifications</span
									>
									<ul class="dropdown__list">
										<li>
											<a href="#" class="dropdown__link"
												>Course certificates</a
											>
										</li>

										<li>
											<a href="#" class="dropdown__link"
												>Free certificates</a
											>
										</li>

										<li>
											<a href="#" class="dropdown__link"
											></a>
										</li>

										<li>
											<a href="#" class="dropdown__link"
											></a>
										</li>
									</ul>
								</div>
							</div>
						</div>
					</li>

					<!--=============== DROPDOWN 2 ===============-->
					<li class="dropdown__item">
						<div class="nav__link dropdown__button">
							Resources
							<Image src={down} class="dropdown__arrow" alt="" />
						</div>

						<div class="dropdown__container">
							<div class="dropdown__content">
								<div class="dropdown__group">
									<div class="dropdown__icon">
										<Image
											src={info}
											class="dropdown__arrow"
											alt=""
										/>
									</div>

									<span class="dropdown__title"
										>Web templates</span
									>
									<ul class="dropdown__list">
										<li>
											<a href="#" class="dropdown__link"
												>Free templates</a
											>
										</li>

										<li>
											<a href="#" class="dropdown__link"
												>Premium templates</a
											>
										</li>
									</ul>
								</div>

								<div class="dropdown__group">
									<div class="dropdown__icon">
										<Image
											src={info}
											class="dropdown__arrow"
											alt=""
										/>
									</div>

									<span class="dropdown__title">Design</span>
									<ul class="dropdown__list">
										<li>
											<a href="#" class="dropdown__link"
												>Web design</a
											>
										</li>

										<li>
											<a href="#" class="dropdown__link"
												>App designs</a
											>
										</li>

										<li>
											<a href="#" class="dropdown__link"
												>Component design</a
											>
										</li>
									</ul>
								</div>

								<div class="dropdown__group">
									<div class="dropdown__icon">
										<Image
											src={info}
											class="dropdown__arrow"
											alt=""
										/>
									</div>

									<span class="dropdown__title">Others</span>
									<ul class="dropdown__list">
										<li>
											<a href="#" class="dropdown__link"
												>Recent blogs</a
											>
										</li>

										<li>
											<a href="#" class="dropdown__link"
												>Tutorial videos</a
											>
										</li>

										<li>
											<a href="#" class="dropdown__link"
												>Webinar</a
											>
										</li>
									</ul>
								</div>
							</div>
						</div>
					</li>

					<li>
						<a href="#" class="nav__link">Pricing</a>
					</li>

					<!--=============== DROPDOWN 3 ===============-->
					<li class="dropdown__item">
						<div class="nav__link dropdown__button">
							Company
							<Image src={down} class="dropdown__arrow" alt="" />
						</div>

						<div class="dropdown__container">
							<div class="dropdown__content">
								<div class="dropdown__group">
									<div class="dropdown__icon">
										<Image
											src={info}
											class="dropdown__arrow"
											alt=""
										/>
									</div>

									<span class="dropdown__title">About us</span
									>
									<ul class="dropdown__list">
										<li>
											<a href="#" class="dropdown__link"
												>About us</a
											>
										</li>

										<li>
											<a href="#" class="dropdown__link"
												>Support</a
											>
										</li>

										<li>
											<a href="#" class="dropdown__link"
												>Contact us</a
											>
										</li>
									</ul>
								</div>

								<div class="dropdown__group">
									<div class="dropdown__icon">
										<Image
											src={info}
											class="dropdown__arrow"
											alt=""
										/>
									</div>

									<span class="dropdown__title"
										>Safety and quality</span
									>
									<ul class="dropdown__list">
										<li>
											<a href="#" class="dropdown__link"
												>Cookie settings</a
											>
										</li>

										<li>
											<a href="#" class="dropdown__link"
												>Privacy policy</a
											>
										</li>
									</ul>
								</div>
							</div>
						</div>
					</li>
				</ul>
			</div>
		</nav>
	</header>
</body>

<script>
	/*=============== SHOW MENU ===============*/
	const showMenu = (toggleId, navId) => {
		const toggle = document.getElementById(toggleId);
		const nav = document.getElementById(navId);

		toggle?.addEventListener("click", () => {
			// Add show-menu class to nav menu
			nav?.classList.toggle("show-menu");

			// Add show-icon to show and hide the menu icon
			toggle?.classList.toggle("show-icon");
		});
	};

	showMenu("nav-toggle", "nav-menu");

	/*=============== SHOW DROPDOWN MENU ===============*/

	const dropdownItems = document.querySelectorAll(".dropdown__item");

	// 1. Select each dropdown item
	dropdownItems.forEach((item) => {
		const dropdownButton = item.querySelector(".dropdown__button");

		// 2. Select each button click
		dropdownButton?.addEventListener("click", () => {
			// 7. Select the current show-dropdown class
			const showDropdown = document.querySelectorAll(".show-dropdown");

			// 5. Call the toggleItem function
			toggleItem(item);

			// 8. Remove the show-dropdown class from other items
			if (showDropdown && showDropdown != item) {
				toggleItem(showDropdown);
			}
		});
	});

	// 3. Create a function to display the dropdown
	const toggleItem = (item) => {
		// 3.1. Select each dropdown content
		const dropdownContainer = item.querySelector(".dropdown__container");

		// 6. If the same item contains the show-dropdown class, remove
		if (item.classList.contains("show-dropdown")) {
			dropdownContainer.removeAttribute("style");
			item.classList.remove("show-dropdown");
		} else {
			// 4. Add the maximum height to the dropdown content and add the show-dropdown class
			dropdownContainer.style.height =
				dropdownContainer.scrollHeight + "px";
			item.classList.add("show-dropdown");
		}
	};

	/*=============== DELETE DROPDOWN STYLES ===============*/
	const mediaQuery = matchMedia("(min-width: 1118px)");
	const dropdownContainer = document.querySelectorAll(".dropdown__container");

	// Function to remove dropdown styles in mobile mode when browser resizes
	const removeStyle = () => {
		// Validate if the media query reaches 1118px
		if (mediaQuery.matches) {
			// remove the dropdown container height style
			dropdownContainer.forEach((e) => {
				e.removeAttribute("style");
			});
			// Remove the show-dropdown class from dropdown item
			dropdownItems.forEach((e) => {
				e.classList.remove("show-dropdown");
			});
		}
	};

	addEventListener("resize", removeStyle);
</script>

<style>
	:root {
		--header-height: 2rem;

		/*========== Colors ==========*/
		/*Color mode HSL(hue, saturation, lightness)*/
		--first-color: hsl(220, 68%, 54%);
		--first-color-lighten: hsl(220, 68%, 97%);
		--title-color: #000;
		--text-color: hsl(220, 12%, 45%);
		--body-color: hsl(220, 100%, 99%);

		/*========== Font and typography ==========*/
		/*.5rem = 8px | 1rem = 16px ...*/
		--normal-font-size: 0.938rem;
		--small-font-size: 0.813rem;
		--smaller-font-size: 0.75rem;

		/*========== Font weight ==========*/
		--font-medium: 500;
		--font-semi-bold: 600;

		/*========== z index ==========*/
		--z-tooltip: 10;
		--z-fixed: 100;
	}

	/*========== Responsive typography==========*/
	@media screen and (min-width: 1024px) {
		:root {
			--normal-font-size: 1rem;
			--small-font-size: 0.875rem;
			--smaller-font-size: 0.813rem;
		}
	}

	/*=============== BASE ===============*/
	* {
		box-sizing: border-box;
		padding: 0;
		margin: 0;
	}

	body {
		font-size: var(--normal-font-size);
		background-color: var(--body-color);
	}

	ul {
		list-style: none;
	}

	a {
		text-decoration: none;
	}

	/*=============== HEADER ===============*/
	.header {
		position: fixed;
		top: 0;
		left: 0;
		width: 100%;
		z-index: var(--z-fixed);
		background-color: white;
	}

	/*=============== NAV ===============*/
	.nav {
		height: var(--header-height);
		margin: auto;
		left: 0;
		right: 0;
		max-width: 80%;
	}

	.nav__data {
		height: 100%;
		display: flex;
		justify-content: space-between;
		align-items: center;
	}

	.nav__logo {
		display: inline-flex;
		align-items: center;
		column-gap: 0.25rem;
		color: var(--title-color);
		font-weight: var(--font-semi-bold);
		transition: color 0.3s;
	}

	.nav__logo i {
		font-size: 1.25rem;
	}

	.nav__logo:hover {
		color: var(--border-line);
	}

	.nav__toggle {
		position: relative;
		width: 32px;
		height: 32px;
	}

	.nav__toggle-menu,
	.nav__toggle-close {
		font-size: 1.25rem;
		color: var(--title-color);
		position: absolute;
		display: grid;
		place-items: center;
		inset: 0;
		cursor: pointer;
		transition:
			opacity 0.1s,
			transform 0.4s;
	}

	.nav__toggle-close {
		opacity: 0;
	}

	/* Navigation for mobile devices */
	@media screen and (max-width: 1118px) {
		.nav__data {
			height: 3rem;
		}
		.nav__menu {
			position: absolute;
			left: 0;
			top: 2.5rem;
			width: 100%;
			height: calc(100vh - 3.5rem);
			overflow: auto;
			padding-block: 1.5rem 4rem;
			pointer-events: none;
			opacity: 0;
			transition:
				top 0.4s,
				opacity 0.3s;
			background-color: white;
		}
	}
	.nav__logo {
		padding-left: 0.5rem;
	}

	.nav__menu::-webkit-scrollbar {
		width: 0.5rem;
	}

	.nav__menu::-webkit-scrollbar-thumb {
		background-color: hsl(220, 12%, 70%);
	}

	.nav__link {
		color: var(--title-color);
		font-weight: var(--font-semi-bold);
		padding: 1.25rem 1.5rem;
		display: flex;
		justify-content: space-between;
		align-items: center;
		transition: background-color 0.3s;
	}

	.nav__link:hover {
		background-color: var(--first-color-lighten);
	}

	/* Show menu */
	.show-menu {
		opacity: 1;
		top: 3rem;
		pointer-events: initial;
	}

	/* Show icon */
	.show-icon .nav__toggle-menu {
		opacity: 0;
		transform: rotate(90deg);
	}

	.show-icon .nav__toggle-close {
		opacity: 1;
		transform: rotate(90deg);
	}

	/*=============== DROPDOWN ===============*/

	.dropdown__button {
		cursor: pointer;
	}

	.dropdown__arrow {
		font-size: 1.5rem;
		font-weight: initial;
		transition: transform 0.4s;
	}

	.dropdown__content,
	.dropdown__group,
	.dropdown__list {
		display: grid;
	}

	.dropdown__container {
		height: 0;
		overflow: hidden;
		transition: height 0.4s;
	}

	.dropdown__content {
		row-gap: 1.75rem;
	}

	.dropdown__group {
		padding-left: 2.5rem;
		row-gap: 0.5rem;
	}

	.dropdown__group:first-child {
		margin-top: 1.25rem;
	}

	.dropdown__group:last-child {
		margin-bottom: 1.25rem;
	}

	.dropdown__icon {
		font-size: 1.25rem;
		color: var(--first-color);
	}

	.dropdown__title {
		font-size: var(--small-font-size);
		font-weight: var(--font-semi-bold);
		color: var(--title-color);
	}

	.dropdown__list {
		row-gap: 0.25rem;
	}

	.dropdown__link {
		font-size: var(--small-font-size);
		font-weight: var(--font-medium);
		color: var(--text-color);
		transition: color 0.3s;
	}

	.dropdown__link:hover {
		color: var(--title-color);
		transform: scale(1.05);
		transition: all 0.1s;
	}

	/* Rotate dropdown icon */
	.show-dropdown .dropdown__arrow {
		transform: rotate(180deg);
	}

	/*=============== BREAKPOINTS ===============*/
	/* For small devices */
	@media screen and (max-width: 300px) {
		.dropdown__group {
			padding-left: 1.5rem;
		}
	}

	/* For large devices */
	@media screen and (min-width: 1118px) {
		.nav {
			height: calc(var(--header-height) + 2rem);
			display: flex;
			justify-content: space-between;
		}

		.nav__toggle {
			display: none;
		}

		.nav__list {
			display: flex;
			column-gap: 3rem;
			height: 100%;
		}

		.nav li {
			display: flex;
		}

		.nav__link {
			padding: 0;
		}

		.nav__link:hover {
			background-color: initial;
		}

		/* Dropdown */
		.dropdown__button {
			column-gap: 0.25rem;
			pointer-events: none;
		}

		.dropdown__container {
			height: max-content;
			position: absolute;
			left: 0;
			right: 0;
			top: 6.5rem;
			border-radius: 0 0 1rem 1rem;

			pointer-events: none;
			opacity: 0;
			transition:
				top 0.4s,
				opacity 0.3s;
		}
		.dropdown__content {
			grid-template-columns: repeat(4, max-content);
			column-gap: 6rem;
			max-width: 1120px;
			margin-inline: auto;
		}
		.dropdown__group {
			padding: 4rem 0;
			align-content: baseline;
			row-gap: 1.25rem;
		}
		.dropdown__group:first-child,
		.dropdown__group:last-child {
			margin: 0;
		}
		.dropdown__list {
			row-gap: 0.75rem;
		}
		.dropdown__icon {
			width: 60px;
			height: 60px;
			background-color: var(--first-color-lighten);
			border-radius: 50%;
			display: grid;
			place-items: center;
			margin-bottom: 1rem;
		}
		.dropdown__icon i {
			font-size: 2rem;
		}
		.dropdown__title {
			font-size: var(--normal-font-size);
		}
		.dropdown__link {
			font-size: var(--small-font-size);
		}
		.dropdown__link:hover {
			color: var(--border-line);
			transform: scale(1.05);
		}
		.dropdown__item {
			cursor: pointer;
		}
		/* Rotate dropdown icon */
		.dropdown__item:hover .dropdown__arrow {
			transform: rotate(180deg);
		}
		/* Show dropdown menu */
		.dropdown__item:hover > .dropdown__container {
			top: 4rem;
			opacity: 1;
			pointer-events: initial;
			cursor: initial;
			background-color: white;
			box-shadow: 0 0 0.5rem rgba(0, 0, 0, 0.2);
		}
		.dropdown__item:hover > .nav {
			border: 1px solid var(--border-line);
		}
	}
	@media screen and (min-width: 1152px) {
		.container {
			margin-inline: auto;
		}
	}

	/* animation */
	header {
		z-index: 30;
		margin: auto;
		left: 0;
		right: 0;
		/* header scroll animation  with css  */
		animation: enhance-header linear both;
		animation-timeline: scroll(root);
		animation-range: 0 200px;
	}

	@keyframes enhance-header {
		to {
			background-color: white;
			box-shadow: 0 0 0.5rem rgba(0, 0, 0, 0.2);
			position: fixed;
			border-radius: 1rem 1rem 0 0;
			top: 1rem;
			z-index: 10;
			width: 80%;
		}
	}
</style>
